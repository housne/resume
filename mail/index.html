<!doctype html>
<html>
  <head>
    <title>发送易浩的简历到邮箱</title>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <style type="text/css">
      /*! normalize.css v8.0.0 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}[hidden],template{display:none}html{font-size:14px}body{font-family:SF Pro SC,SF Pro Text,SF Pro Icons,PingFang SC,Helvetica Neue,Helvetica,Arial,sans-serif;color:#333}a{text-decoration:none;color:#009688}.top-header{padding:3rem 0;background:#eceff1}.top-header .top-section{padding:0 1rem;display:flex}.top-header .titles{flex:1}.top-header .titles h1{font-size:2.2rem;font-weight:400;margin-bottom:1rem;margin-top:0}.top-header .titles h2{font-size:1.6rem;font-weight:400;color:#90a4ae;margin-bottom:0}.top-header .download-link{display:flex;align-items:center;flex-direction:column;justify-content:space-between}.top-header .download-link-button{padding:.6rem 1rem;border:1px solid #009688;border-radius:5px;background:transparent}.top-header .download-link-button:hover{background:hsla(0,0%,100%,.2)}.container{padding:0 1rem}section.container{margin-top:3rem;margin-bottom:3rem}section.container h2.title{font-size:1.6rem;color:#b0bec5;font-weight:400;margin:0;margin-bottom:1rem}section.container .text{line-height:1.7;text-align:justify}section.container .item-list .item{margin-bottom:1rem}section.container .item-list .item label{display:block;margin-bottom:.3rem;font-size:1.1;font-weight:700}section.container .experience{margin-bottom:3rem}section.container .experience:first-child{padding-top:1rem}section.container .experience .name{margin-bottom:1rem;font-size:1.2rem;margin-top:0}section.container .experience .duration{color:#666}section.container .experience .sub-title{padding:1rem 0;display:flex}section.container .experience .sub-title .position{flex:1;font-weight:600;margin:0}.mail-page .mail-form{padding-top:2rem}.mail-page .mail-form input,.mail-page .mail-form textarea{box-sizing:border-box;width:100%;display:block;border:1px solid #eceff1;padding:.5rem;border-radius:3px;margin-bottom:1rem}.mail-page .mail-form label{display:block;padding-bottom:.5rem}.mail-page .mail-form .submit-button{padding:.8rem 1rem;border:1px solid #009688;border-radius:5px;background:transparent;color:#009688}.mail-page .mail-form .submit-button:disabled{border-color:#eceff1;color:#eceff1}.mail-page .top-header .download-link{justify-content:center}@media (min-width:700px){.container{max-width:700px;margin:0 auto}.top-header .titles{padding-left:28%}section.container{display:flex}section.container h2.title{width:25%;padding-right:3%;text-align:right}section.container .content{flex:1}section.container .item-list{display:flex;flex-wrap:wrap}section.container .item-list .item{width:50%}section.container .experience:first-child{padding-top:0}.mail-page .top-header .titles{padding-left:0}.mail-page .mail-form input{max-width:300px}}@media print{.top-header .download-link{display:none}}
    </style>
  </head>
  <body class="mail-page">
  <header class="top-header">
      <div class="top-section container">
        <div class="titles">
            <h1>发送简历到邮箱</h1>
            <h2 id="email-address-text">请填写邮箱地址</h2>
        </div>
        <div class="download-link">
          <a href="/resume.pdf" download="前端开发-易浩.pdf" class="download-link-button">下载简历</a>
        </div>
      </div>
    </header>
    <div class="container">
      <form id="mail-form" class="mail-form">
        <label>邮箱地址</label>
        <input type="email" name="address" required id="email-address-input" />
        <label>邮件主题</label>
        <input type="text" name="subject" />
        <label>附件名称</label>
        <input type="text" name="filename" />
        <label>邮件内容</label>
        <textarea type="text" name="message" rows="10"></textarea>
        <button type="submit" class="submit-button" id="submit-button">发送</button>
      </form>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios@0.18.0/dist/axios.min.js"></script>
    <script>
      (function() {
        var EMAIL_RE = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        var form = document.getElementById("mail-form");
        var emailAddressText = document.getElementById("email-address-text");
        var emailAddressInput = document.getElementById("email-address-input");
        var submitButton = document.getElementById("submit-button");
        
        emailAddressInput.addEventListener("change", function(event) {
          var value = event.target.value.trim();
          if (!value) return;
          emailAddressText.innerText = value;
        })

        form.addEventListener("submit", function(event) {
          event.preventDefault();
          var inputs = form.getElementsByTagName("input");
          var dataList = Array.prototype.slice.call(inputs).map(function(input) {
            return [input.getAttribute("name"), input.value];
          })
          var data = {};
          for(var i=0; i<dataList.length; i++) {
            var item = dataList[i];
            if (item[1].trim()) {
              data[item[0]] = item[1].trim();
            }
          }
          if (!data.address) {
            return alert("请填写电子邮件");
          }
          if (!EMAIL_RE.test(data.address)) {
            return alert("电子邮件地址错误");
          }
          submitButton.setAttribute("disabled", "disabled");
          submitButton.innerText = "发送中"
          axios.post('https://services.goharry.me/resume/send-mail', data).then(function(res) {
            submitButton.removeAttribute("disabled");
            submitButton.innerText = "发送"
            alert("发送成功，请查看您的邮箱");
          }).catch(function(err) {
            submitButton.removeAttribute("disabled");
            submitButton.innerText = "发送"
            if (err.message) {
              return alert(err.message);
            }
            alert("发送失败，请重试");
          })
        })
      })()
    </script>
  </body>
</html>